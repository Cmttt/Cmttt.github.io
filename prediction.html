<!DOCTYPE html>
<html>
<title>Taking and Making the Shot</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu">
<style>
html, body, h1, h2, h3, h4, h5, h6 {
  height: 100%;
    font-family: "Ubuntu", sans-serif;
}
.bgimg {
    background-position: center;
    background-size: cover;
    background-image: url("./Image.jpeg");
    min-height: 90%;
}
.menu {
    display: none;
}
</style>
<body>

<!-- Navbar -->
<div class="w3-top">
  <div class="w3-bar w3-black w3-card w3-left-align w3-large">
    <a class="w3-bar-item w3-button w3-hide-medium w3-hide-large w3-right w3-padding-large w3-hover-white w3-large w3-blue" href="javascript:void(0);" onclick="myFunction()" title="Toggle Navigation Menu"><i class="fa fa-bars"></i></a>
    <a href="https://cmttt.github.io/index.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Home</a>
    <a href="https://cmttt.github.io/explore.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Explore</a>
    <a href="https://cmttt.github.io/prediction.html" class="w3-bar-item w3-button w3-padding-large w3-white">Prediction</a>
    <a href="https://cmttt.github.io/dquality.html" class="w3-bar-item w3-button w3-hide-small w3-padding-large w3-hover-white">Data Quality</a>
  </div>

<!-- Navbar on small screens -->
<div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium w3-large">
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Home</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Explore</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Prediction</a>
    <a href="#" class="w3-bar-item w3-button w3-padding-large">Data Quality</a>
  </div>
</div>

<!-- First Grid -->
<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-threequarter">
    <h1>Model Results</h1>
      <p class="w3-text-grey">The models that were fit include: logistic regression, linear discriminant analysis, kNN, CART, and naive bayes. 20% of the data was held out and used as test data. The remaining 80% was used as training and were fit and tested using 10 fold cross validation. Logistic regression was used as the prediction model as it managed to predict with the highest accuracy. However, it must be noted that none of the models predicted particularly well. Logistic regression was only able to predict shot makes with 60.6% accuracy which is only 10% higher than random selection. The other models performed even more poorly. Below is a box plot that displays a comparison of the test accuracy calculated using cross-validation for the different prediction models fit on the dataset.</p>  

      <img src="./algcomp.png" height="500" width="500">

      <p class="w3-text-grey">As you can see, logistic regression and linear discriminant analysis performed the best. The decision tree classifier (CART) and k-nearest neighbors performed only slightly better than random chance, and naive bayes fell behind simple logistic regression and linear discriminant analysis. </p> 
    </div>

    <div class="w3-third w3-center">
      <i class="fa fa-anchor w3-padding-64 w3-text-red"></i>
    </div>
  </div>
</div>

<!-- Second Grid -->
<div class="w3-row-padding w3-light-grey w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-third w3-center">
      <i class="fa fa-coffee w3-padding-64 w3-text-red w3-margin-right"></i>
    </div>
    <div class="w3-threequarter">
      <h1>Logistic Regression</h1>
      <h5 class="w3-padding-32">Summary of logistic regression co-efficients</h5>
      <table class="w3-table w3-bordered">
        <tr>
          <th></th>
          <th>Intercept</th>                 
          <th>Shot Clock</th>
          <th>Dribbles</th>
          <th>Touch Time</th>
          <th>Shot Dist</th>
          <th>Close Def Dist</th>
        </tr>
        <tr>
          <th>Co-Efficiencts</th>
          <th>0.11205131</th>
          <th>0.0151166</th>
          <th>0.02581338</th>
          <th>-0.05661155</th>
          <th>-0.0600544</th>
          <th>0.10205662</th>
        </tr>
        <tr>
          <th>Log Co-Efficients</th>
          <th>1.11857025301</th>
          <th>1.0152314337</th>
          <th>1.0261494306</th>
          <th>0.9449610682</th>
          <th>0.94171330298</th>
          <th>1.10744617356</th>
        </tr>
        <tr>
          <th>Percentage</th>
          <th>12%</th>
          <th>1.5%</th>
          <th>2.6</th>
          <th>-5.5%</th>
          <th>-5.8%</th>
          <th>10.7%</th>
        </tr>
      </table>

      <p class="w3-text-grey">From looking at the results of this logistic regression, we can see that the shot clock, number of dribbles, and the closest defender distance are all positively correlated with shot makes while touch time and shot distance are negatively correlated with shot makes. However, it does not look like there is a strong correlation between any o these variables. Among the selected attributes, closest defender distance is the most correlated with shot makes, while time on the shot clock and the number of dribbles taken don't seem to be correlated very much if at all. This seems to indicate that none of these quantitative factors have much of an effect on shot makes, which may be what is contributing to the relatively low prediction accuracy of the model.</p>

      <h5 class="w3-padding-32">Confusion Matrix</h5>
      <table class="w3-table w3-bordered">
        <tr>
          <th></th>
          <th>Made</th>                 
          <th>Missed</th>
        </tr>
        <tr>
          <th>Made</th>
          <th>5004</th>
          <th>1740</th>
        </tr>
        <tr>
          <th>Missed</th>
          <th>3039</th>
          <th>2467</th>
        </tr>
      </table>
      <br>
      <p class="w3-text-grey">Above is the confusion matrix created by running the logistic regression on test data. Below is the precision, recall, f1-score, and support. Although the model is not a strong classifier overall, it is markedly better at predicting misses, as it has a significantly higher recall and f1-score than for makes. This gives us some insight on the problem we are trying to solve. It seems like there is a moderate relationship between our attributes and how they are affect shot makes.</p>

      <img src="./lrscores.png">
    </div>
  </div>
</div>

<div class="w3-row-padding w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-threequarter">
    <h1>Conclusion and Final Thoughhts</h1>
      <p class="w3-text-grey">As discussed earlier, shot distance, dribbles, shot clock pressure, and defender distance are all factors that can moderately affect shot makes. If we were to run this experiment again, one possible way to further this process is to categorize the closest defenders into separate groups. For example, we can categorize them into position, player height, player size, wingspan length, and other factors of that nature to get a better idea of what types of defenders are more effective and contesting shots. We can also do this with the shooting player to try and create factors for what types of players are more likely to make shots. This would reduce the number of features associated with the player_id while also giving them weight. Another issue is the sample size. All our samples are from the same year, so we may be able to generate a bettter model if we had data from multiple years. Although 60% may not be an extremely accurate predictor, the truth is there are probably a number of hidden features that affect whether a shot is made. In this model, we are able to quantify 20% of what affects shot makes (10% better than random chance). </p>  
    </div>
    <div class="w3-third w3-center">
      <i class="fa fa-anchor w3-padding-64 w3-text-red"></i>
    </div>
  </div>
</div>

<script>
// Used to toggle the menu on small screens when clicking on the menu button
function myFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else { 
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>

</body>
</html>